(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var s=n(12),r=n.n(s),a=n(8),c=n(9),o=n(4),i=n(5),l=n(7),u=n(6),d=n(3),h=n.n(d),p=n(1),j=n.n(p),b=(n(20),n(21),n(10)),f=n.n(b),v=n(14),O=n.n(v),m=(n(42),n(0)),x=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={todos:e.props.todos,searchQuery:"",todoStatus:"all",randomOrder:!1},e.changeHandler=function(t){var n=t.target;e.setState({searchQuery:n.value})},e.onStatusSelect=function(t){e.setState({todoStatus:t.target.value})},e.onRandom=function(){e.setState((function(e){return{randomOrder:!e.randomOrder}}))},e.shuffleTodos=function(e){for(var t=e.length-1;t>0;t-=1){var n=Math.floor(Math.random()*(t+1)),s=e[t];e[t]=e[n],e[n]=s}return e},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state,t=e.todos,n=e.searchQuery,s=e.todoStatus,r=e.randomOrder,a=this.props.selectUser,o=Object(c.a)(t);switch(s){case"all":default:break;case"active":o=o.filter((function(e){return!e.completed}));break;case"completed":o=o.filter((function(e){return e.completed}))}return o=o.filter((function(e){var t=n.toLowerCase();return e.title.toLowerCase().includes(t)})),r&&(o=this.shuffleTodos(o)),Object(m.jsxs)("div",{className:"TodoList content",children:[Object(m.jsx)("h2",{children:"Todos:"}),Object(m.jsxs)("div",{className:"TodoList__list-container content",children:[Object(m.jsx)("div",{className:"TodoList__input-wrapper",children:Object(m.jsx)("input",{onChange:this.changeHandler,value:n,className:"input is-normal",type:"text",placeholder:"Search..."})}),Object(m.jsx)("div",{className:"select",children:Object(m.jsxs)("select",{onChange:this.onStatusSelect,children:[Object(m.jsx)("option",{value:"all",children:"All"}),Object(m.jsx)("option",{value:"active",children:"Active"}),Object(m.jsx)("option",{value:"completed",children:"Completed"})]})}),Object(m.jsx)("button",{onClick:this.onRandom,type:"button",className:"button is-primary",children:"Randomize"}),Object(m.jsx)("ul",{className:"TodoList__list",children:o.map((function(e){return Object(m.jsxs)("li",{className:O()("TodoList__item",{"TodoList__item--checked":e.completed,"TodoList__item--unchecked":!e.completed}),children:[Object(m.jsxs)("label",{children:[Object(m.jsx)("input",{type:"checkbox",readOnly:!0}),Object(m.jsx)("p",{children:e.title})]}),Object(m.jsxs)("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",onClick:function(){return a(e.userId)},children:["User #",e.userId]})]},e.id)}))})]})]})}}]),n}(j.a.Component),g="https://mate.academy/students-api",y=(n(44),function(e){var t=e.errorMessage;return Object(m.jsx)("div",{className:"notification is-danger is-light",children:t})}),_=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={user:null,isLoading:!1},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(a.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(a.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.userId!==this.props.userId&&0!==this.props.userId&&this.loadData();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(a.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({isLoading:!0}),e.next=4,n=this.props.userId,fetch("".concat(g,"/users/").concat(n)).then((function(e){return e.json()}));case 4:t=e.sent,this.setState({isLoading:!1,user:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({isLoading:!1,user:null});case 11:case"end":return e.stop()}var n}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.user;if(e.isLoading)return Object(m.jsx)(f.a,{type:"Oval",color:"#00BFFF",height:100,width:100});if(!t)return Object(m.jsx)(y,{errorMessage:"An error occured when loading user!"});var n=t.id,s=t.name,r=t.email,a=t.phone;return Object(m.jsxs)("div",{className:"CurrentUser",children:[Object(m.jsx)("h2",{className:"CurrentUser__title",children:Object(m.jsx)("span",{children:"Selected user: ".concat(n)})}),Object(m.jsx)("h3",{className:"CurrentUser__name",children:s}),Object(m.jsx)("p",{className:"CurrentUser__email",children:r}),Object(m.jsx)("p",{className:"CurrentUser__phone",children:a}),Object(m.jsx)("button",{type:"button",className:"button",onClick:this.props.clearUser,children:"Clear"})]})}}]),n}(j.a.PureComponent),L=(n(45),[]),k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={todos:[],visibleTodos:Object(c.a)(L),selectedUserId:0,isLoading:!1,hasLoadingError:!1,isInitialized:!1},e.selectUser=function(t){e.setState({selectedUserId:t})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(a.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({isLoading:!0}),e.next=4,fetch("".concat(g,"/todos")).then((function(e){return e.json()}));case 4:L=e.sent,this.setState({todos:L,visibleTodos:Object(c.a)(L),isLoading:!1,isInitialized:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({isLoading:!1,hasLoadingError:!0});case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.todos,s=t.visibleTodos,r=t.selectedUserId,a=t.isLoading,c=t.hasLoadingError,o=t.isInitialized;return a?Object(m.jsx)(f.a,{type:"Oval",color:"#00BFFF",height:100,width:100}):Object(m.jsxs)("div",{className:"App",children:[Object(m.jsxs)("div",{className:"App__sidebar",children:[o&&n.length>0&&Object(m.jsx)(x,{todos:s,selectUser:this.selectUser}),c&&Object(m.jsx)(y,{errorMessage:"An error occured when loading todos!"})]}),o&&n.length>0&&Object(m.jsx)("div",{className:"App__content",children:Object(m.jsx)("div",{className:"App__content-container",children:r?Object(m.jsx)(_,{userId:r,clearUser:function(){return e.selectUser(0)}}):"No user selected"})})]})}}]),n}(j.a.Component),w=k;r.a.render(Object(m.jsx)(w,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.285026d0.chunk.js.map